#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Execute lint-staged para arquivos staged
npx lint-staged

# Verificar tipos TypeScript
npm run type-check

# Executar testes bÃ¡sicos se houver arquivos de teste modificados
if git diff --cached --name-only | grep -q "\.test\.\|\.spec\."; then
  echo "ðŸ§ª Executando testes para arquivos modificados..."
  npm run test:ci --passWithNoTests --bail
fi

echo "âœ… Pre-commit checks passed!"
